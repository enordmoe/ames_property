Analysis of Ames Property Data
================
Your Name
2023-02-01

- <a href="#data-and-packages" id="toc-data-and-packages">Data and
  packages</a>
- <a href="#digging-into-the-data" id="toc-digging-into-the-data">Digging
  Into the Data</a>
- <a href="#interpretation" id="toc-interpretation">Interpretation</a>
- <a href="#further-investigation" id="toc-further-investigation">Further
  Investigation</a>
- <a href="#the-grand-finale" id="toc-the-grand-finale">The Grand
  Finale</a>

In this exercise, you will use the concepts you have learned about thus
far to carry out an analysis of a real data set. We will review ideas of
data visualization and exploratory data analysis after which you will be
asked to carry out several procedures on your own.

# Data and packages

We start by loading the **tidyverse** that contains all the packages we
will need for the analysis.

``` r
library(tidyverse)
```

We will use the
[AmesHousing](https://www.tandfonline.com/doi/abs/10.1080/10691898.2011.11889627)
data, which provides information on the sales of individual residential
properties in Ames, Iowa from 2006 to 2010. The data set contains 2930
observations, and a large number of explanatory variables involved in
assessing home values. A full description of this dataset can be found
[here](http://jse.amstat.org/v19n3/decock/DataDocumentation.txt). The
command chunk below loads the library with the data and does some very
useful pre-processing of the data. In particular, our use of the
`make_ordinal_ames()` command produces a data set where categorical
variables are stored as ordered factors making them easy to work with.
(Note: This function includes code specific to the Ames data package and
is not a general R feature.) Review the results of the `glimpse()`
command to get a feel for the variable names and consult the detailed
description linked above as needed.

``` r
# Create the data
library(AmesHousing)
ames <- make_ordinal_ames() # creates the data set caled ames
glimpse(ames)
```

    ## Rows: 2,930
    ## Columns: 81
    ## $ MS_SubClass        <fct> One_Story_1946_and_Newer_All_Styles, One_Story_1946…
    ## $ MS_Zoning          <fct> Residential_Low_Density, Residential_High_Density, …
    ## $ Lot_Frontage       <dbl> 141, 80, 81, 93, 74, 78, 41, 43, 39, 60, 75, 0, 63,…
    ## $ Lot_Area           <int> 31770, 11622, 14267, 11160, 13830, 9978, 4920, 5005…
    ## $ Street             <fct> Pave, Pave, Pave, Pave, Pave, Pave, Pave, Pave, Pav…
    ## $ Alley              <fct> No_Alley_Access, No_Alley_Access, No_Alley_Access, …
    ## $ Lot_Shape          <ord> Slightly_Irregular, Regular, Slightly_Irregular, Re…
    ## $ Land_Contour       <ord> Lvl, Lvl, Lvl, Lvl, Lvl, Lvl, Lvl, HLS, Lvl, Lvl, L…
    ## $ Utilities          <ord> AllPub, AllPub, AllPub, AllPub, AllPub, AllPub, All…
    ## $ Lot_Config         <fct> Corner, Inside, Corner, Corner, Inside, Inside, Ins…
    ## $ Land_Slope         <ord> Gtl, Gtl, Gtl, Gtl, Gtl, Gtl, Gtl, Gtl, Gtl, Gtl, G…
    ## $ Neighborhood       <fct> North_Ames, North_Ames, North_Ames, North_Ames, Gil…
    ## $ Condition_1        <fct> Norm, Feedr, Norm, Norm, Norm, Norm, Norm, Norm, No…
    ## $ Condition_2        <fct> Norm, Norm, Norm, Norm, Norm, Norm, Norm, Norm, Nor…
    ## $ Bldg_Type          <fct> OneFam, OneFam, OneFam, OneFam, OneFam, OneFam, Twn…
    ## $ House_Style        <fct> One_Story, One_Story, One_Story, One_Story, Two_Sto…
    ## $ Overall_Qual       <ord> Above_Average, Average, Above_Average, Good, Averag…
    ## $ Overall_Cond       <ord> Average, Above_Average, Above_Average, Average, Ave…
    ## $ Year_Built         <int> 1960, 1961, 1958, 1968, 1997, 1998, 2001, 1992, 199…
    ## $ Year_Remod_Add     <int> 1960, 1961, 1958, 1968, 1998, 1998, 2001, 1992, 199…
    ## $ Roof_Style         <fct> Hip, Gable, Hip, Hip, Gable, Gable, Gable, Gable, G…
    ## $ Roof_Matl          <fct> CompShg, CompShg, CompShg, CompShg, CompShg, CompSh…
    ## $ Exterior_1st       <fct> BrkFace, VinylSd, Wd Sdng, BrkFace, VinylSd, VinylS…
    ## $ Exterior_2nd       <fct> Plywood, VinylSd, Wd Sdng, BrkFace, VinylSd, VinylS…
    ## $ Mas_Vnr_Type       <fct> Stone, None, BrkFace, None, None, BrkFace, None, No…
    ## $ Mas_Vnr_Area       <dbl> 112, 0, 108, 0, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6…
    ## $ Exter_Qual         <ord> Typical, Typical, Typical, Good, Typical, Typical, …
    ## $ Exter_Cond         <ord> Typical, Typical, Typical, Typical, Typical, Typica…
    ## $ Foundation         <fct> CBlock, CBlock, CBlock, CBlock, PConc, PConc, PConc…
    ## $ Bsmt_Qual          <ord> Typical, Typical, Typical, Typical, Good, Typical, …
    ## $ Bsmt_Cond          <ord> Good, Typical, Typical, Typical, Typical, Typical, …
    ## $ Bsmt_Exposure      <ord> Gd, No, No, No, No, No, Mn, No, No, No, No, No, No,…
    ## $ BsmtFin_Type_1     <ord> BLQ, Rec, ALQ, ALQ, GLQ, GLQ, GLQ, ALQ, GLQ, Unf, U…
    ## $ BsmtFin_SF_1       <dbl> 2, 6, 1, 1, 3, 3, 3, 1, 3, 7, 7, 1, 7, 3, 3, 1, 3, …
    ## $ BsmtFin_Type_2     <ord> Unf, LwQ, Unf, Unf, Unf, Unf, Unf, Unf, Unf, Unf, U…
    ## $ BsmtFin_SF_2       <dbl> 0, 144, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1120, 0…
    ## $ Bsmt_Unf_SF        <dbl> 441, 270, 406, 1045, 137, 324, 722, 1017, 415, 994,…
    ## $ Total_Bsmt_SF      <dbl> 1080, 882, 1329, 2110, 928, 926, 1338, 1280, 1595, …
    ## $ Heating            <fct> GasA, GasA, GasA, GasA, GasA, GasA, GasA, GasA, Gas…
    ## $ Heating_QC         <ord> Fair, Typical, Typical, Excellent, Good, Excellent,…
    ## $ Central_Air        <fct> Y, Y, Y, Y, Y, Y, Y, Y, Y, Y, Y, Y, Y, Y, Y, Y, Y, …
    ## $ Electrical         <ord> SBrkr, SBrkr, SBrkr, SBrkr, SBrkr, SBrkr, SBrkr, SB…
    ## $ First_Flr_SF       <int> 1656, 896, 1329, 2110, 928, 926, 1338, 1280, 1616, …
    ## $ Second_Flr_SF      <int> 0, 0, 0, 0, 701, 678, 0, 0, 0, 776, 892, 0, 676, 0,…
    ## $ Low_Qual_Fin_SF    <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
    ## $ Gr_Liv_Area        <int> 1656, 896, 1329, 2110, 1629, 1604, 1338, 1280, 1616…
    ## $ Bsmt_Full_Bath     <dbl> 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 1, 1, 0, …
    ## $ Bsmt_Half_Bath     <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
    ## $ Full_Bath          <int> 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 3, 2, …
    ## $ Half_Bath          <int> 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, …
    ## $ Bedroom_AbvGr      <int> 3, 2, 3, 3, 3, 3, 2, 2, 2, 3, 3, 3, 3, 2, 1, 4, 4, …
    ## $ Kitchen_AbvGr      <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
    ## $ Kitchen_Qual       <ord> Typical, Typical, Good, Excellent, Typical, Good, G…
    ## $ TotRms_AbvGrd      <int> 7, 5, 6, 8, 6, 7, 6, 5, 5, 7, 7, 6, 7, 5, 4, 12, 8,…
    ## $ Functional         <ord> Typ, Typ, Typ, Typ, Typ, Typ, Typ, Typ, Typ, Typ, T…
    ## $ Fireplaces         <int> 2, 0, 0, 2, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, …
    ## $ Fireplace_Qu       <ord> Good, No_Fireplace, No_Fireplace, Typical, Typical,…
    ## $ Garage_Type        <fct> Attchd, Attchd, Attchd, Attchd, Attchd, Attchd, Att…
    ## $ Garage_Finish      <ord> Fin, Unf, Unf, Fin, Fin, Fin, Fin, RFn, RFn, Fin, F…
    ## $ Garage_Cars        <dbl> 2, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 2, …
    ## $ Garage_Area        <dbl> 528, 730, 312, 522, 482, 470, 582, 506, 608, 442, 4…
    ## $ Garage_Qual        <ord> Typical, Typical, Typical, Typical, Typical, Typica…
    ## $ Garage_Cond        <ord> Typical, Typical, Typical, Typical, Typical, Typica…
    ## $ Paved_Drive        <ord> Partial_Pavement, Paved, Paved, Paved, Paved, Paved…
    ## $ Wood_Deck_SF       <int> 210, 140, 393, 0, 212, 360, 0, 0, 237, 140, 157, 48…
    ## $ Open_Porch_SF      <int> 62, 0, 36, 0, 34, 36, 0, 82, 152, 60, 84, 21, 75, 0…
    ## $ Enclosed_Porch     <int> 0, 0, 0, 0, 0, 0, 170, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
    ## $ Three_season_porch <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
    ## $ Screen_Porch       <int> 0, 120, 0, 0, 0, 0, 0, 144, 0, 0, 0, 0, 0, 0, 140, …
    ## $ Pool_Area          <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
    ## $ Pool_QC            <ord> No_Pool, No_Pool, No_Pool, No_Pool, No_Pool, No_Poo…
    ## $ Fence              <ord> No_Fence, Minimum_Privacy, No_Fence, No_Fence, Mini…
    ## $ Misc_Feature       <fct> None, None, Gar2, None, None, None, None, None, Non…
    ## $ Misc_Val           <int> 0, 0, 12500, 0, 0, 0, 0, 0, 0, 0, 0, 500, 0, 0, 0, …
    ## $ Mo_Sold            <int> 5, 6, 6, 4, 3, 6, 4, 1, 3, 6, 4, 3, 5, 2, 6, 6, 6, …
    ## $ Year_Sold          <int> 2010, 2010, 2010, 2010, 2010, 2010, 2010, 2010, 201…
    ## $ Sale_Type          <fct> WD , WD , WD , WD , WD , WD , WD , WD , WD , WD , W…
    ## $ Sale_Condition     <fct> Normal, Normal, Normal, Normal, Normal, Normal, Nor…
    ## $ Sale_Price         <int> 215000, 105000, 172000, 244000, 189900, 195500, 213…
    ## $ Longitude          <dbl> -93.61975, -93.61976, -93.61939, -93.61732, -93.638…
    ## $ Latitude           <dbl> 42.05403, 42.05301, 42.05266, 42.05125, 42.06090, 4…

Before proceeding, be sure you understand that each case represents a
residential property that was sold during the period 2006–2010.

# Digging Into the Data

1.  Use **ggplot2** to create a histogram of Ames housing sale prices.

**Answer:**

2.  Create a scatterplot of sales price (y) against above ground living
    area (x).

**Answer:**

3.  You should have noticed 5 observations that are unusual for having
    considerably larger living area than most residential properties.
    Use an appropriate command to remove these very large propoerties
    and save the remaining data under the name **ames2**.

**Answer:**

4.  Use the **ames2** data set here and for the rest of the lab. Create
    a scatterplot with log transformed variables (natural log, `log()`)
    and map kitchen quality to the color aesthetic.

**Answer:**

5.  Create scatterplots of sale price by living area faceting for both
    kitchen quality and number of fireplaces. Again use the log
    transformation for price and area.

**Answer:**

6.  Create a boxplot showing the relationship between log of sale price
    and kitchen quality.

**Answer:**

7.  Try creating a density plot (use `geom_density()`) showing the
    relationship between log of sale price and number of fireplaces. A
    density plot is simply a smoothed histogram, smoothed to show the
    general pattern of variability in a fashion similar to the use of a
    smoother for a scatterplot. Instead of displaying count on the y
    axis, it displays by default the “density”, the count standardized
    so that the area under each density curve is one. Instead of using
    the `color` aesthetic, map the number of fireplaces to `fill` and
    set the `alpha` transparency so that all layers of the plot can be
    seen. (Hint: Is `Fireplaces` a factor variable? Should it be for
    this plot?)

**Answer:**

# Interpretation

**Refer to the plots above** to answer the following questions:

8.  How many houses were sold with four fireplaces?

**Answer:**

9.  What are the five different levels for kitchen quality?

**Answer:**

10. Do these graphs indicate that the quality of a kitchen could be
    related to the sale price? Explain in at least a couple sentences.  
    **Answer:**

# Further Investigation

11. Create a bar chart showing the number of sales for each level of
    kitchen quality.

**Answer:**

12. Create a histogram of the above ground living area, `Gr_Liv_Area`.

**Answer:**

13. Create a scatterplot using `Year_Built` as the explanatory variable
    and log of `Sale_Price` as the response variable. Include a
    regression line, a title, and labels for the x and y axes.

**Answer:**

14. Modify the scatterplot in the previous question so that there is
    still only one regression line, but the points are colored by the
    overall condition of the home, `Overall_Cond`.

**Answer:**

# The Grand Finale

15. **Data Transformation and Graphing** Use what you have learned about
    data transformations and graphics to carry out the following (still
    starting with the **ames2** data set:

- Restrict the Ames housing data to only sales under normal conditions.
  In other words, `Condition_1 == "Norm"`.

- Create a new home area variable called
  `Total_Sq_Ft = Gr_Liv_Area  +  Total_Bsmt_SF` and remove any homes
  with more than 3000 total square feet.

- Create a new categorical variable `FireP` which is “No” if there are
  no fireplaces in the home and “Yes” if there is at least one fireplace
  in the home.

With this modified data frame, create a graphic involving no more than
three explanatory variables that portrays how to predict sales price.
That is, create some form of graphic that shows covariation between
price and area while incorporating a couple relevant categorical
variables. You should be able to do this in one code chunk connected by
the pipe `%>%` and `+` for the `ggplot()` layers.
